<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>talon - Fast and elegant dataframes for OCaml | raven</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <main class="main-content">
    <nav class="talon-nav nav-breadcrumb">
      <a href="/">raven</a> / talon
      [ <a href="/docs/talon/">docs</a> |
      <a href="https://github.com/raven-ml/raven/tree/main/talon">source</a> ]
    </nav>

    <div class="talon-hero hero">
      <h1>talon</h1>
      <p class="tagline">pandas ergonomics. Polars performance. OCaml's type safety.</p>
    </div>

    <hr>

    <h2>why talon?</h2>

    <div class="feature-grid">
      <div>
        <h3 class="color-pink">type-safe row operations</h3>
        <p>Work with heterogeneous columns safely. The compiler ensures your row operations match column types.</p>
      </div>
      <div>
        <h3 class="color-pink">optimized for wide dataframes</h3>
        <p>Efficient handling of 100+ columns. Vectorized operations that scale with your data.</p>
      </div>
      <div>
        <h3 class="color-pink">familiar yet functional</h3>
        <p>pandas-like API with functional programming. Use applicative functors for elegant row transformations.</p>
      </div>
      <div>
        <h3 class="color-pink">built on nx</h3>
        <p>Leverages Nx arrays for fast computation. Seamlessly integrates with the Raven ecosystem.</p>
      </div>
    </div>

    <hr>

    <h2>show me the code</h2>

    <div class="code-compare">
      <div>
        <h4>PANDAS</h4>
        <pre class="language-python"><code class="language-python"># Create dataframe
df = pd.DataFrame({
  'name': ['Alice', 'Bob'],
  'age': [25, 30],
  'height': [1.70, 1.80]
})

# Add BMI column
df['bmi'] = (
  df['weight'] / 
  df['height']**2
)

# Row-wise sum
df['total'] = df[['a', 'b', 'c']].sum(axis=1)

# Can fail at runtime
df['bad'] = df['age'] + df['name']  # TypeError!</code></pre>
      </div>
      <div>
        <h4>TALON</h4>
        <pre class="language-ocaml"><code class="language-ocaml">(* Create dataframe *)
let df = create [
  ("name", Col.string_list ["Alice"; "Bob"]);
  ("age", Col.int32_list [25l; 30l]);
  ("height", Col.float64_list [1.70; 1.80])
]

(* Add BMI column *)
let df = with_column df "bmi" Nx.float64
  Row.(map2 (number "weight") (number "height") 
    ~f:(fun w h -> w /. (h ** 2.)))

(* Row-wise sum *)
let total = Row.Agg.sum df ~names:["a"; "b"; "c"]

(* This won't compile - type error! *)
(* let bad = Row.(map2 (int32 "age") (string "name") ~f:(+)) *)</code></pre>
      </div>
    </div>

    <hr>

    <h2>the good parts</h2>

    <p><b>Wide operations that scale</b><br>
    Process 100+ columns efficiently with vectorized operations. No more iterating row by row.</p>

    <p><b>Type-safe heterogeneous data</b><br>
    Mix strings, floats, integers, and booleans. GADTs ensure type safety at compile time.</p>

    <p><b>Functional transformations</b><br>
    Use applicative functors for elegant row-wise operations. Compose transformations with map, filter, and fold.</p>

    <p><b>pandas-compatible operations</b><br>
    Join, merge, pivot, melt, groupby. All the operations you know, with better performance.</p>

    <hr>

    <h2>ergonomic apis</h2>

    <pre class="language-ocaml"><code class="language-ocaml">(* Column selectors *)
let numeric_cols = Cols.numeric df
let price_cols = Cols.with_prefix df "price_"

(* Batch column operations *)
let df = with_columns df [
  ("total", Row.Agg.sum df ~names:numeric_cols);
  ("avg", Row.Agg.mean df ~names:price_cols)
]

(* Functional row operations *)
let df = with_columns_map df
  Row.([
    ("sum", Nx.float64, map2 (number "a") (number "b") ~f:( +. ));
    ("diff", Nx.float64, map2 (number "a") (number "b") ~f:( -. ))
  ])</code></pre>

    <hr>

    <h2>get started</h2>

    <p>Talon isn't released yet. For now, check out the <a href="/docs/talon/">documentation</a> to learn more.</p>

    <p>When it's ready:</p>

    <pre class="language-bash"><code class="language-bash">opam install talon</code></pre>

    <pre class="language-ocaml"><code class="language-ocaml">open Talon

let () =
  let df = create [
    ("x", Col.float64_list [1.; 2.; 3.]);
    ("y", Col.float64_list [4.; 5.; 6.])
  ] in
  print df</code></pre>
  </main>

</body>
</html>